<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jocul Memoriei</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Alex+Brush&display=swap" rel="stylesheet">

    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Alex Brush', cursive; 
            background-color: rgb(0, 0, 0); 
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
            text-align: center;
            padding: 20px;
        }

        .main-text {
            color: #fae4e8; 
            font-size: 4rem; 
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            margin-bottom: 5px;
        }

        .instruction-text {
            color: #ff4d6d;
            font-size: 2.5rem;
            margin-bottom: 20px;
        }

        /* --- GRILA PENTRU JOC --- */
        .game-board {
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* 4 coloane pe laptop */
            gap: 15px;
            margin-bottom: 30px;
            perspective: 1000px; /* Creeaz캒 efectul 3D pentru rota탵ie */
        }

        /* --- CARTONA탲ELE (CSS 3D MAGIC) --- */
        .card {
            width: 100px;
            height: 100px;
            cursor: pointer;
            position: relative;
            transform-style: preserve-3d; /* Permite elementelor copii s캒 aib캒 propriul spa탵iu 3D */
            transition: transform 0.6s cubic-bezier(0.4, 0.2, 0.2, 1);
        }

        /* C칙nd ad캒ug캒m clasa .flipped din JavaScript, cartona탳ul se 칥ntoarce 180 grade */
        .card.flipped {
            transform: rotateY(180deg);
        }

        /* Fe탵ele cartona탳ului (ambele ocup캒 tot spa탵iul, dar stau spate 칥n spate) */
        .card-face {
            width: 100%;
            height: 100%;
            position: absolute;
            border-radius: 10px;
            backface-visibility: hidden; /* Ascunde spatele elementului c칙nd e 칥ntors */
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 8px rgba(255, 77, 109, 0.3);
        }

        /* Fa탵a principal캒 (c칙nd e ascuns캒 poza) */
        .card-front {
            background: linear-gradient(135deg, #5c3a40, #ff4d6d);
            font-size: 3rem;
        }

        /* Spatele (poza cu voi) - este deja rotit캒 la 180deg din fabric캒 */
        .card-back {
            background-color: #fff;
            transform: rotateY(180deg);
            background-size: cover;
            background-position: center;
        }

        /* --- BUTOANELE --- */
        .locked-button {
            font-family: 'Alex Brush', cursive; 
            background-color: #333; 
            color: #888;
            border: 2px dashed #555;
            padding: 10px 40px;
            border-radius: 50px;
            font-size: 3rem; 
            cursor: not-allowed; 
            transition: all 0.5s ease;
        }

        .unlocked-button {
            background-color: #5c3a40 !important;
            color: white !important;
            border: 2px solid #fae4e8 !important;
            cursor: pointer !important;
            box-shadow: 0 0 20px rgba(250, 228, 232, 0.4);
            animation: bataieDeInima 1.5s infinite;
        }

        .unlocked-button:hover { background-color: #643940 !important; transform: scale(1.05); }

        @keyframes bataieDeInima {
            0% { transform: scale(1); }
            50% { transform: scale(1.10); } 
            100% { transform: scale(1); } 
        }

        /* Responsive pentru mobil: facem 2 coloane x 4 r칙nduri */
        @media (max-width: 600px) {
            .game-board { grid-template-columns: repeat(2, 1fr); gap: 10px; }
            .card { width: 90px; height: 90px; }
            .main-text { font-size: 3.5rem; }
        }
    </style>
</head>
<body>

    <h1 class="main-text" id="game-title">G캒se탳te perechile!</h1>
    <p class="instruction-text">Potrive탳te imaginile pentru a merge mai departe.</p>

    <div class="game-board" id="game-board"></div>

    <button class="locked-button" id="lockedBtn" disabled>游 LOCKED: Datele secrete</button>

    <script>
        // 1. Configurarea imaginilor (Numele pozelor tale din folderul imagini)
        // Avem nevoie de 2 din fiecare pentru a face perechi
        const imagini = [
            'imagini/5.jpg', 'imagini/5.jpg',
            'imagini/6.jpg', 'imagini/6.jpg',
            'imagini/7.jpg', 'imagini/7.jpg',
            'imagini/8.jpg', 'imagini/8.jpg'
        ];

        // 2. Amestecarea imaginilor (Shuffle)
        imagini.sort(() => 0.5 - Math.random());

        const board = document.getElementById('game-board');
        let card1 = null;
        let card2 = null;
        let cardsFlipped = 0; // C칙te perechi a g캒sit
        let lockBoard = false; // Blocheaz캒 click-urile c칙t timp 2 c캒r탵i sunt 칥ntoarse

        // 3. Crearea cartona탳elor pe ecran
        imagini.forEach((imgSrc) => {
            const card = document.createElement('div');
            card.classList.add('card');
            // Stoc캒m adresa pozei 칥n cartona탳 pentru a verifica potrivirea mai t칙rziu
            card.dataset.image = imgSrc; 

            // Structura HTML a cartona탳ului: Fa탵캒 (inima) 탳i Spate (poza)
            card.innerHTML = `
                <div class="card-face card-front">仇벒잺</div>
                <div class="card-face card-back" style="background-image: url('${imgSrc}')"></div>
            `;

            // Ad캒ug캒m func탵ia de click pe fiecare cartona탳
            card.addEventListener('click', flipCard);
            board.appendChild(card);
        });

        // 4. Logica de joc (Ce se 칥nt칙mpl캒 la click)
        function flipCard() {
            // Nu permite click dac캒 placa e blocat캒 sau dac캒 d캒 click pe aceea탳i carte de 2 ori
            if (lockBoard) return;
            if (this === card1) return;

            this.classList.add('flipped');

            // Dac캒 e prima carte 칥ntoars캒
            if (!card1) {
                card1 = this;
                return;
            }

            // Dac캒 e a doua carte 칥ntoars캒
            card2 = this;
            lockBoard = true; // Bloc캒m tabla temporar

            checkForMatch();
        }

        // 5. Verificarea potrivirii
        function checkForMatch() {
            let isMatch = card1.dataset.image === card2.dataset.image;

            if (isMatch) {
                // Au ghicit perechea!
                disableCards();
                cardsFlipped += 2; // Am 칥ntors definitiv 2 c캒r탵i
                
                // Verific캒m dac캒 a c칙탳tigat (dac캒 a 칥ntors toate cele 8 c캒r탵i)
                if (cardsFlipped === imagini.length) {
                    winGame();
                }
            } else {
                // Nu se potrivesc, le 칥ntoarcem 칥napoi dup캒 1 secund캒
                unflipCards();
            }
        }

        // Func탵ii ajut캒toare pentru logica de joc
        function disableCards() {
            card1.removeEventListener('click', flipCard);
            card2.removeEventListener('click', flipCard);
            resetBoard();
        }

        function unflipCards() {
            setTimeout(() => {
                card1.classList.remove('flipped');
                card2.classList.remove('flipped');
                resetBoard();
            }, 1000); // Timpul c칙t stau 칥ntoarse gre탳it (1 secund캒)
        }

        function resetBoard() {
            [card1, card2] = [null, null];
            lockBoard = false;
        }

        // 6. Func탵ia care se ruleaz캒 c칙nd c칙탳tig캒
        function winGame() {
            setTimeout(() => {
                document.getElementById('game-title').innerText = "Memorie excelent캒! 游봃";
                
                let lockedBtn = document.getElementById('lockedBtn');
                lockedBtn.disabled = false;
                lockedBtn.innerText = "游댑 UNLOCKED: Vezi diploma";
                lockedBtn.classList.add('unlocked-button');
                
                lockedBtn.onclick = function() {
                    window.location.href = "diploma.html";
                };
            }, 500); // Un mic delay pentru a vedea ultima pereche 칥ntoars캒
        }
    </script>
</body>
</html>
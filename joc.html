<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jocul Memoriei</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Alex+Brush&display=swap" rel="stylesheet">

    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Alex Brush', cursive; 
            background-color: rgb(0, 0, 0); 
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
            overflow-y: auto;
            text-align: center;
            padding: 20px;
        }

        .main-text {
            color: #fae4e8; 
            font-size: 4rem; 
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            margin-bottom: 5px;
        }

        .instruction-text {
            color: #d9a4ae;
            font-size: 3rem;
            margin-bottom: 20px;
        }

        .game-board {
            display: grid;
            grid-template-columns: repeat(4, 1fr); 
            gap: 15px;
            margin-bottom: 30px;
            perspective: 1000px;
        }

        .card {
            width: 100px;
            height: 100px;
            cursor: pointer;
            position: relative;
            transform-style: preserve-3d; 
            transition: transform 0.6s cubic-bezier(0.4, 0.2, 0.2, 1);
        }

        .card.flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            width: 100%;
            height: 100%;
            position: absolute;
            border-radius: 10px;
            backface-visibility: hidden; 
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 8px rgba(255, 77, 109, 0.3);
        }

        .card-front {
            background: linear-gradient(135deg, #342124, #3c2a2e);
            font-size: 3rem;
        }

        .card-back {
            background-color: #fff;
            transform: rotateY(180deg);
            background-size: cover;
            background-position: center;
        }

        .locked-button {
            font-family: 'Alex Brush', cursive; 
            background-color: #333; 
            color: #888;
            border: 2px;
            padding: 10px 40px;
            border-radius: 50px;
            font-size: 3rem; 
            cursor: not-allowed; 
            transition: all 0.5s ease;
        }

        .unlocked-button {
            background-color: #5c3a40 !important;
            color: white !important;
            border: 2px solid #fae4e8 !important;
            cursor: pointer !important;
            box-shadow: 0 0 20px rgba(250, 228, 232, 0.4);
            animation: bataieDeInima 1.5s infinite;
        }

        .unlocked-button:hover { background-color: #643940 !important; transform: scale(1.05); }

        @keyframes bataieDeInima {
            0% { transform: scale(1); }
            50% { transform: scale(1.25); } 
            100% { transform: scale(1); } 
        }

        @media (max-width: 600px) {
            .game-board { grid-template-columns: repeat(2, 1fr); gap: 10px; }
            .card { width: 90px; height: 90px; }
            .main-text { font-size: 3.5rem; }
        }
    </style>
</head>
<body>

    <h1 class="main-text" id="game-title">Găsește perechile supriză!</h1>
    <p class="instruction-text">Trebuie să rezolvi acest joc foarte greu pentru a merge mai departe...</p>

    <div class="game-board" id="game-board"></div>

    <button class="locked-button" id="lockedBtn" disabled>LOCKED: Confidential!</button>

    <script>
        const imagini = [
            'imagini/5.jpg', 'imagini/5.jpg',
            'imagini/6.jpg', 'imagini/6.jpg',
            'imagini/7.jpg', 'imagini/7.jpg',
            'imagini/8.jpg', 'imagini/8.jpg'
        ];

        imagini.sort(() => 0.5 - Math.random());

        const board = document.getElementById('game-board');
        let card1 = null;
        let card2 = null;
        let cardsFlipped = 0; 
        let lockBoard = false; 

        imagini.forEach((imgSrc) => {
            const card = document.createElement('div');
            card.classList.add('card');
            card.dataset.image = imgSrc; 

            card.innerHTML = `
                <div class="card-face card-front">?</div>
                <div class="card-face card-back" style="background-image: url('${imgSrc}')"></div>
            `;

            card.addEventListener('click', flipCard);
            board.appendChild(card);
        });

        function flipCard() {
            if (lockBoard) return;
            if (this === card1) return;

            this.classList.add('flipped');

            if (!card1) {
                card1 = this;
                return;
            }

            card2 = this;
            lockBoard = true;

            checkForMatch();
        }

        function checkForMatch() {
            let isMatch = card1.dataset.image === card2.dataset.image;

            if (isMatch) {
                disableCards();
                cardsFlipped += 2;
                
                if (cardsFlipped === imagini.length) {
                    winGame();
                }
            } else {
                unflipCards();
            }
        }

        function disableCards() {
            card1.removeEventListener('click', flipCard);
            card2.removeEventListener('click', flipCard);
            resetBoard();
        }

        function unflipCards() {
            setTimeout(() => {
                card1.classList.remove('flipped');
                card2.classList.remove('flipped');
                resetBoard();
            }, 1000);
        }

        function resetBoard() {
            [card1, card2] = [null, null];
            lockBoard = false;
        }

        function winGame() {
            setTimeout(() => {
                document.getElementById('game-title').innerText = "Știam eu că ești cel mai bun Tudișor!";
                
                let lockedBtn = document.getElementById('lockedBtn');
                lockedBtn.disabled = false;
                lockedBtn.innerText = "UNLOCKED: Vezi premiul!";
                lockedBtn.classList.add('unlocked-button');
                
                lockedBtn.onclick = function() {
                    window.location.href = "diploma.html";
                };
            }, 500);
        }
    </script>
</body>
</html>